# id 450001330 (Hidden Street : Fire Zone Skyline), field 450001330
if sm.hasQuestCompleted(34112):
    sm.lockInGameUI(True, False)
    sm.removeAdditionalEffect()
    sm.blind(True, 255, 0, 0, 0, 0)
    sm.createQuestWithQRValue(34125, "370=2;390=2;310=2;320=2;330=2")
    sm.spawnNpc(3003141, -22, -398)
    sm.showNpcSpecialActionByTemplateId(3003141, "summon", 0)
    sm.spawnNpc(3003142, -213, 76)
    sm.showNpcSpecialActionByTemplateId(3003142, "summon", 0)
    sm.sendDelay(1000)
    sm.blind(False, 0, 0, 0, 0, 1500)
    sm.sendDelay(1000)
    sm.setSpeakerType(3)
    sm.setParam(37)
    sm.setColor(1)
    sm.setInnerOverrideSpeakerTemplateID(3003142) # Rino
    sm.sendNext("Kao said he's going back to where he came from, right? We should turn around when we reach that peak over there.")
    sm.setInnerOverrideSpeakerTemplateID(3003141) # Kao
    sm.sendSay("...")
    sm.setInnerOverrideSpeakerTemplateID(3003142) # Rino
    sm.sendSay("...Kao?")
    sm.moveNpcByTemplateId(3003141, True, 500, 10)
    sm.sendDelay(1500)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/fall2", 200)
    sm.blind(True, 255, 0, 0, 0, 500)
    sm.sendDelay(500)
    sm.onLayer(1500, "kao", 0, -80, 0, "Map/Effect2.img/ArcaneRiver1/fall", 4, True, -1, False)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/fireBird2", 100)
    sm.sendDelay(500)
    sm.changeBGM("SoundEff.img/ArcaneRiver/thrill", 0, 0)
    sm.sendNext("#b(Kao swoops towards Rino on his Fire Bird.)#k \r\nWhat are you doing? That's dangerous...!")
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/fireBird3", 200)
    sm.sendSay("Stop that or we're going to fall! Why are you doing this?")
    sm.setInnerOverrideSpeakerTemplateID(3003141) # Kao
    sm.sendSay("...")
    sm.sendSay("I saw it... in the Fountain of Reflection.")
    sm.sendSay("I saw my past... and... your past, #h0#...")
    sm.setParam(57)
    sm.sendSay("Huh? What do you mean!?")
    sm.sendDelay(1000)
    sm.setParam(37)
    sm.sendNext("...")
    sm.sendSay("#r...Is there really room for two of the same souls?#k\r\n#b(Kao's Fire Bird attacks!)#k")
    sm.setInnerOverrideSpeakerTemplateID(3003142) # Rino
    sm.sendSay("Arrrgghh!")
    sm.sendDelay(1000)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/fall2", 200)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/fireBird2", 200)
    sm.blind(True, 255, 0, 0, 0, 250)
    sm.sendDelay(250)
    sm.lockInGameUI(False, True)
    sm.warp(450001200)
    sm.completeQuest(34114)
