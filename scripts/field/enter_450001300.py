# id 450001300 (Hidden Street : The Fountain of Reflection), field 450001300
sm.createQuestWithQRValue(34125, "370=2;380=1;390=2;300=2;310=2;320=2;330=2")
sm.lockInGameUI(True, False)
sm.removeAdditionalEffect()
sm.blind(True, 255, 0, 0, 0, 0)
sm.hideUser(True)
sm.spawnNpc(3003113, 80, 134)
sm.showNpcSpecialActionByTemplateId(3003113, "summon", 0)
sm.spawnNpc(3003112, -80, 134)
sm.showNpcSpecialActionByTemplateId(3003112, "summon", 0)
sm.zoomCamera(0, 2000, 0, 10, 243)
sm.sendDelay(1000)
sm.blind(False, 0, 0, 0, 0, 1500)
sm.sendDelay(3500)
sm.createFieldTextEffect("#fnﾳﾪﾴﾮﾰ￭ﾵ￱ ExtraBold##fs18#Fountain of Reflection", 100, 1000, 6, -50, -50, 1, 4, 0, 0, 0)
sm.setSpeakerType(3)
sm.setParam(37)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(3003112) # Rino
sm.sendNext("Here's the fountain, just like you wanted. Go ahead, look deep into its waters.")
sm.sendDelay(500)
sm.showFadeTransition(0, 1000, 1000)
sm.sendDelay(500)
sm.zoomCamera(0, 4000, 0, 0, 260)
sm.sendDelay(5)
sm.showFadeTransition(0, 1000, 3000)
sm.sendDelay(500)
sm.removeOverlapScreen(1000)
sm.sendDelay(500)
sm.showFadeTransition(0, 1000, 3000)
sm.sendDelay(500)
sm.removeOverlapScreen(1000)
sm.sendDelay(500)
sm.showFadeTransition(0, 1000, 3000)
sm.sendDelay(500)
sm.removeOverlapScreen(1000)
sm.sendDelay(500)
sm.zoomCamera(0, 2000, 0, 10, 243)
sm.setInnerOverrideSpeakerTemplateID(3003113) # Kao
sm.sendNext("Argh... ugh... My head feels like it's going to burst...")
sm.changeBGM("Bgm26.img/DarkMage", 0, 0)
sm.onLayer(2500, "kao", 0, -80, 0, "Map/Effect2.img/ArcaneRiver1/past", 4, True, -1, False)
sm.blind(True, 200, 0, 0, 0, 1300)
sm.sendDelay(1600)
sm.sendDelay(500)
sm.resetNpcSpecialActionByTemplateId(3003113)
sm.showNpcSpecialActionByTemplateId(3003113, "quest", -1)
sm.sendNext("...The Black Mage? Waiting... at the end of Arcane River... A crucial power... The future...")
sm.sendSay("I... I remember...")
sm.sendSay("The future I came back to prevent... #h0#... fought against the Black Mage at the end of Arcane River, and lost...")
sm.sendSay("You... didn't have that crucial power... Couldn't destroy Black Mage completely...")
sm.sendSay("You stumbled because you were tricked... By Rino, Arma's follower!")
sm.sendSay("That's it! The reason I used every ounce of my power to travel back in time... It was to prevent my past self from making the same mistake...")
sm.offLayer(300, "kao", False)
sm.blind(False, 0, 0, 0, 0, 1300)
sm.sendDelay(1600)
sm.sendNext("Rino... Arma... History is repeating itself!")
sm.sendSay("...I won't let it all happen again!")
sm.sendDelay(500)
sm.resetNpcSpecialActionByTemplateId(3003112)
sm.showNpcSpecialActionByTemplateId(3003112, "smile", 0)
sm.resetNpcSpecialActionByTemplateId(3003112)
sm.showNpcSpecialActionByTemplateId(3003112, "smile2", -1)
sm.setInnerOverrideSpeakerTemplateID(3003112) # Rino
sm.sendNext("#face0#Hmph. I knew I shouldn't have let you live... You barely have any power left for my master to absorb.")
sm.setInnerOverrideSpeakerTemplateID(3003113) # Kao
sm.sendSay("Argh... I won't let it happen again...")
sm.sendDelay(500)
sm.showFadeTransition(0, 1000, 1000)
sm.sendDelay(500)
sm.zoomCamera(0, 4000, 0, -50, 260)
sm.sendDelay(5)
sm.showFadeTransition(0, 1000, 3000)
sm.sendDelay(500)
sm.removeOverlapScreen(1000)
sm.sendDelay(500)
sm.showFadeTransition(0, 1000, 3000)
sm.sendDelay(500)
sm.removeOverlapScreen(1000)
sm.sendDelay(500)
sm.showFadeTransition(0, 1000, 3000)
sm.sendDelay(500)
sm.removeOverlapScreen(1000)
sm.sendDelay(500)
sm.zoomCamera(0, 2000, 0, 10, 243)
sm.setInnerOverrideSpeakerTemplateID(3003112) # Rino
sm.sendNext("#face0#Hehe, don't get any funny ideas. You can't even take care of yourself in the state you're in.")
sm.sendSay("#face0#That friend of yours will be nourishment for Arma. As for you... It seems you've served your purpose once again. It's time you disappeared.")
sm.sendSay("#face0#Of course, I don't want your friend to suspect anything's amiss. I'd better summon up a doppelganger.")
sm.resetNpcSpecialActionByTemplateId(3003112)
sm.showNpcSpecialActionByTemplateId(3003112, "change", 0)
sm.sendDelay(1000)
sm.resetNpcSpecialActionByTemplateId(3003112)
sm.showNpcSpecialActionByTemplateId(3003112, "stand2", -1)
sm.showEffect("Effect/Direction19.img/effect/rino/0", 0, 400, -10, 0, 0, 0, 0)
sm.sendDelay(500)
sm.spawnNpc(3003113, -80, 134)
sm.showNpcSpecialActionByTemplateId(3003113, "summon", 0)
sm.sendNext("#face0#You know, in a way, you'll get to be there when your precious #h0# meets their end. Hahaha. Goodbye.")
sm.onLayer(1500, "kao", 0, 0, 0, "Map/Effect2.img/ArcaneRiver1/fall2", 4, True, -1, False)
sm.blind(True, 200, 0, 0, 0, 1300)
sm.sendDelay(1600)
sm.sendDelay(1500)
sm.offLayer(1500, "kao", False)
sm.blind(True, 255, 0, 0, 0, 250)
sm.sendDelay(250)
sm.playSound("Sound/SoundEff.img/ArcaneRiver/fall", 200)
sm.hideUser(False)
sm.lockInGameUI(False, True)
sm.warp(450001380)
