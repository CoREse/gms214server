# id 940200214 (Arcana : Grove of the Spirit Tree), field 940200214
sm.startQuest(34479)
sm.startQuest(34489)
sm.lockInGameUI(True, False)
sm.removeAdditionalEffect()
sm.blind(True, 255, 0, 0, 0, 0)
sm.spawnNpc(3003350, -95, 25)
sm.showNpcSpecialActionByTemplateId(3003350, "summon", 0)
sm.spawnNpc(3003373, 312, 25)
sm.showNpcSpecialActionByTemplateId(3003373, "summon", 0)
sm.flipNpcByTemplateId(3003373, True)
sm.showNpcSpecialActionByTemplateId(3003373, "down", -1)
sm.zoomCamera(0, 1000, 0, 312, -100)
sm.sendDelay(1000)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.zoomCamera(2000, 1000, 2000, 312, 25)
sm.sendDelay(1000)
sm.forcedMove(False, 100)
sm.moveNpcByTemplateId(3003350, False, 120, 120)
sm.sendDelay(1000)
sm.setSpeakerType(3)
sm.setParam(37)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(3003301) # Small Spirit
sm.sendNext("#face7#Oh! There's someone laying where that giant evil spirit disappeared... Who's that?")
sm.zoomCamera(1000, 2000, 1000, 312, 180)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(3003302) # Wind Spirit
sm.sendNext("#face1#It can be felt, but not seen. You cannot hear it, but you know it is there. What is it?")
sm.spawnNpc(3003351, 700, 25)
sm.showNpcSpecialActionByTemplateId(3003351, "summon", 0)
sm.showFadeTransition(0, 1000, 3000)
sm.zoomCamera(0, 1000, 2147483647, 2147483647, 2147483647)
sm.moveCamera(True, 0, 0, 0)
sm.sendDelay(300)
sm.removeOverlapScreen(1000)
sm.zoomCamera(0, 1000, 0, 700, 25)
sm.sendDelay(500)
sm.resetNpcSpecialActionByTemplateId(3003351)
sm.showNpcSpecialActionByTemplateId(3003351, "wind2", 2200)
sm.playSound("Sound/SoundEff.img/ArcaneRiver/wind", 100)
sm.flipNpcByTemplateId(3003351, True)
sm.moveNpcByTemplateId(3003351, True, 140, 180)
sm.sendDelay(2000)
sm.zoomCamera(2000, 1000, 2000, 312, 25)
sm.sendDelay(2000)
sm.zoomCamera(1000, 2000, 1000, 312, 180)
sm.sendDelay(1000)
sm.sendNext("#face1#Friendship, love, and kindness.")
sm.setInnerOverrideSpeakerTemplateID(3003301) # Small Spirit
sm.sendSay("#face1#Wind Spirit!")
sm.setInnerOverrideSpeakerTemplateID(3003302) # Wind Spirit
sm.sendSay("#face0#Hmm~ Hmm~ One needs only look into your eyes to know the truth~")
sm.setInnerOverrideSpeakerTemplateID(3003373) # ???
sm.sendSay("#face0#Ugh...")
sm.setParam(57)
sm.sendSay("#b(The strange spirit groans in pain.)#k")
sm.sendSay("#b(Images flutter into your mind, accompanied by a quiet voice...)#k")
sm.zoomCamera(3000, 5000, 3000, 312, 180)
sm.playSound("Sound/SoundEff.img/ArcaneRiver/wind", 100)
sm.blind(True, 255, 240, 240, 240, 1300)
sm.sendDelay(1600)
sm.completeQuestNoCheck(34479)
sm.completeQuestNoCheck(34489)
sm.startQuest(34487)
sm.resetNpcSpecialActionByTemplateId(3003373)
sm.hideUser(True)
sm.sendDelay(1000)
sm.blind(True, 255, 240, 240, 240, 0)
sm.zoomCamera(2000, 1000, 2000, 312, -100)
sm.playSound("Sound/SoundEff.img/blackHeaven/lightup", 100)
sm.sendDelay(500)
sm.blind(False, 0, 0, 0, 0, 1500)
sm.sendDelay(1500)
sm.blind(True, 200, 0, 0, 0, 1300)
sm.sendDelay(1600)
sm.sayMonologue("As long as I have lived, I have been shy.", 0)
sm.sayMonologue("When I first opened my eyes, I was inside this big tree.", 0)
sm.sayMonologue("Perhaps that is why I could never bring myself to leave it.", 0)
sm.sayMonologue("I spent all of my days the same way...", 0)
sm.sayMonologue("Counting the passing clouds, watching the leaves grow.", 0)
sm.sayMonologue("But I was not completely alone. I had friends too.", 0)
sm.sayMonologue("At least, that is how I thought of them...", 1)
sm.zoomCamera(2000, 1000, 2000, 312, 25)
sm.blind(False, 0, 0, 0, 0, 1300)
sm.sendDelay(1600)
sm.sendDelay(4000)
sm.createFieldTextEffect("#fnﾳﾪﾴﾮﾰ￭ﾵ￱ ExtraBold##fs18#One Happy Day, #fs15##fnﾳﾪﾴﾮﾰ￭ﾵ￱#The Spirit Tree's Memory", 50, 1000, 6, -50, -50, 1, 4, 0, 0, 0)
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(3003302) # Wind Spirit
sm.sendNext("#face2#Tra-lala~ The sky, the breeze, the birds and the bees. Each one I love, perhaps equally~")
sm.sendSay("#face1#But if a spirit had to pick favorites, only one could there be.\r\nThe leaves and the branches of my plumpity tree!\r\nPlumpity, plump, plump, plump~")
sm.setInnerOverrideSpeakerTemplateID(3003301) # Small Spirit
sm.sendSay("#face1#Hehe. I guess it is a little portly, as trees go. But I like it!")
sm.setInnerOverrideSpeakerTemplateID(3003314) # Rock Spirit
sm.sendSay("#face0#Wace you wosers to the twee! Come on, bwudders, woll faster!")
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(3003373) # ???
sm.sendNext("#face0#Ah, they're coming! I need to hide!")
sm.flipNpcByTemplateId(3003373, False)
sm.sendDelay(100)
sm.flipNpcByTemplateId(3003373, True)
sm.sendDelay(100)
sm.flipNpcByTemplateId(3003373, False)
sm.sendDelay(1000)
sm.flipNpcByTemplateId(3003373, True)
sm.sendDelay(1000)
sm.showNpcSpecialActionByTemplateId(3003373, "bye", 600)
sm.sendDelay(600)
sm.sendDelay(500)
sm.sendNext("#face0#Phew...")
sm.blind(True, 255, 0, 0, 0, 500)
sm.sendDelay(500)
sm.onLayer(1000, "00", 0, -80, 12, "Effect/Direction19.img/effect/arcana_play/0", 4, True, -1, False)
sm.sendDelay(1000)
sm.onLayer(1000, "01", 0, -80, 12, "Effect/Direction19.img/effect/arcana_play/4", 4, True, -1, False)
sm.onLayer(1000, "02", 0, -80, 12, "Effect/Direction19.img/effect/arcana_play/2", 4, True, -1, False)
sm.setInnerOverrideSpeakerTemplateID(3003301) # Small Spirit
sm.sendNext("#face3#Hehe, watch me swing!")
sm.onLayer(1000, "03", 0, -80, 12, "Effect/Direction19.img/effect/arcana_play/3", 4, True, -1, False)
sm.onLayer(1000, "04", 0, -80, 12, "Effect/Direction19.img/effect/arcana_play/1", 4, True, -1, False)
sm.setInnerOverrideSpeakerTemplateID(3003314) # Rock Spirit
sm.sendSay("#face0#Ahh, these weaves awe so cozy! I might faww asweep!")
sm.offLayer(1000, "01", False)
sm.offLayer(1000, "02", False)
sm.offLayer(1000, "03", False)
sm.offLayer(1000, "04", False)
sm.sendDelay(2000)
sm.setInnerOverrideSpeakerTemplateID(3003373) # ???
sm.sendNext("#face0#ﾡﾦﾡﾦ.")
sm.sendDelay(2000)
sm.sendNext("#face0#Huh? Did they all leave? I think they're gone.")
sm.sendSay("#face0#I'm so embarrassed. Every time they come, I can't help but hide. Maybe tomorrow is the day I'll speak to them.")
sm.sendSay("#face0#But... what if I scare them away? I'm happy like this, just listening to the chattering of the spirits as they play...")
sm.startQuest(34479)
sm.startQuest(34489)
sm.completeQuestNoCheck(34487)
sm.spawnNpc(3003350, -95, 25)
sm.showNpcSpecialActionByTemplateId(3003350, "summon", 0)
sm.offLayer(1000, "00", False)
sm.blind(True, 255, 0, 0, 0, 0)
sm.sendDelay(1200)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1400)
sm.sendDelay(2000)
sm.createFieldTextEffect("#fnﾳﾪﾴﾮﾰ￭ﾵ￱ ExtraBold##fs18#One Sad Day, #fs15##fnﾳﾪﾴﾮﾰ￭ﾵ￱#The Spirit Tree's Memory", 50, 1000, 6, -50, -50, 1, 4, 0, 0, 0)
sm.moveNpcByTemplateId(3003350, False, 120, 120)
sm.sendDelay(2000)
sm.showNpcSpecialActionByTemplateId(3003350, "cry", -1)
sm.setInnerOverrideSpeakerTemplateID(3003301) # Small Spirit
sm.sendNext("#face4##b(Sniffs)#k Spirit Tree, what happened to you? Why did you wither up so suddenly?")
sm.sendSay("#face7#The forest is changing, and spirits are going wild... I'm so very scared.\r\nAnd worst of all, I have nowhere to go! Wahhh...")
sm.blind(True, 255, 0, 0, 0, 500)
sm.sendDelay(500)
sm.setInnerOverrideSpeakerTemplateID(3003324) # Spirit of Harmony
sm.sendNext("#face0##b(Try as I might, purging this dark aura is beyond me... What should I do?)#k")
sm.sendSay("#face0##b(If the corruption cannot be purified... Then there is only one choice.)#k")
sm.sendDelay(1000)
sm.spawnNpc(3003350, 5, 25)
sm.showNpcSpecialActionByTemplateId(3003350, "summon", 0)
sm.spawnNpc(3003373, 312, 25)
sm.showNpcSpecialActionByTemplateId(3003373, "summon", 0)
sm.spawnNpc(3003351, 495, 25)
sm.showNpcSpecialActionByTemplateId(3003351, "summon", 0)
sm.flipNpcByTemplateId(3003373, True)
sm.showNpcSpecialActionByTemplateId(3003373, "down", -1)
sm.hideUser(False)
sm.onLayer(900, "00", 0, -80, 9, "Effect/Direction19.img/effect/arcana_hug/0", 4, True, -1, False)
sm.onLayer(900, "03", 0, -80, 12, "Effect/Direction19.img/effect/arcana_hug/3", 4, True, -1, False)
sm.sendNext("#face1##b(I must seal it away... It is the only way to protect them.)#k")
sm.sendSay("#face1##b(Don't not cry, Small Spirit. I will keep the darkness contained.)#k")
sm.onLayer(900, "01", 0, -80, 10, "Effect/Direction19.img/effect/arcana_hug/1", 4, True, -1, False)
sm.onLayer(900, "02", 0, -80, 11, "Effect/Direction19.img/effect/arcana_hug/2", 4, True, -1, False)
sm.onLayer(900, "04", 0, -80, 12, "Effect/Direction19.img/effect/arcana_hug/4", 4, True, -1, False)
sm.sendSay("#face1##b(...Good bye, my friend. I'm sorry I could never work up the courage to talk with you...)#k")
sm.sendSay("#face1##b(I want you all to be happy... To go on playing in the leaves...)#k")
sm.onLayer(900, "05", 0, -80, 13, "Effect/Direction19.img/effect/arcana_hug/5", 4, True, -1, False)
sm.sendDelay(1680)
sm.offLayer(1500, "05", False)
sm.offLayer(1500, "01", False)
sm.offLayer(1500, "02", False)
sm.offLayer(1500, "04", False)
sm.sendNext("#face1#Farewell, my friends.")
sm.sendDelay(1000)
sm.offLayer(1500, "00", False)
sm.offLayer(1500, "03", False)
sm.sendDelay(1500)
sm.blind(True, 255, 0, 0, 0, 0)
sm.sendDelay(1200)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1400)
sm.zoomCamera(1000, 1400, 1000, 312, 180)
sm.setInnerOverrideSpeakerTemplateID(3003301) # Small Spirit
sm.sendNext("#face1#...I know who you are. We've been friends for a long time, haven't we...?")
sm.zoomCamera(1000, 1700, 1000, 312, 180)
sm.sendNext("#face1#On days when I was happy, and days when I cried... You were always right there beside me.")
sm.sendDelay(1000)
sm.moveNpcByTemplateId(3003350, False, 170, 120)
sm.sendDelay(2500)
sm.showNpcSpecialActionByTemplateId(3003350, "cry", -1)
sm.zoomCamera(1000, 2000, 1000, 312, 180)
sm.sendNext("#face4#You were the spirit within the Spirit Tree!")
sm.bgmVolume(0, 3000)
sm.sendDelay(3000)
sm.changeBGM("Bgm00.img/Silence", 0, 0)
sm.lockInGameUI(False, True)
sm.warp(940200215)
