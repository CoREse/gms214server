# id 867202398 (Abrup Basin : Training Grounds), field 867202398
sm.lockInGameUI(True, False)
sm.spawnNpc(9400602, -200, -90)
sm.showNpcSpecialActionByTemplateId(9400602, "summon", 0)
sm.forcedFlip(True)
sm.blind(True, 255, 0, 0, 0, 0)
sm.sendDelay(1200)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1400)
sm.setSpeakerType(3)
sm.setParam(57)
sm.setColor(1)
sm.sendNext("#bSo, have you ever fought before? ")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendSay("#face0#I went hunting once a long time ago. ")
sm.setParam(57)
sm.sendSay("#bI see... ")
sm.setParam(37)
sm.sendSay("#face0#... ")
sm.setParam(57)
sm.sendSay("#bDo you know how to use a spear and shield? ")
sm.setParam(37)
sm.sendSay("#face0#No, not really... ")
sm.spawnNpc(9400582, -650, -90)
sm.showNpcSpecialActionByTemplateId(9400582, "summon", 0)
sm.spawnNpc(9400580, -650, -90)
sm.showNpcSpecialActionByTemplateId(9400580, "summon", 0)
sm.moveNpcByTemplateId(9400582, False, 250, 100)
sm.sendDelay(500)
sm.moveNpcByTemplateId(9400580, False, 200, 80)
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendNext("#face0##h0#! Einar! ")
sm.flipNpcByTemplateId(9400602, True)
sm.sendDelay(500)
sm.setParam(57)
sm.sendNext("#bWhen did you pick up his name? ")
sm.setParam(37)
sm.sendSay("#face0#He's my student now. A fine teacher must know his student's name. ")
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendSay("#face0#... ")
sm.setParam(57)
sm.sendSay("#bCayne is a trained knight, He can teach you better than I can. ")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#Indeed! And #h0# will spar with you. ")
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendSay("#face0#...Thank you. ")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#I don't have much time to spare, so this will be a short, intense lesson. ")
sm.sendSay("#face0#With your strength, it won't be too hard for you to handle a shield. ")
sm.sendSay("#face0#Watch my moves, and do as I do. ")
sm.sendDelay(500)
sm.showNpcSpecialActionByTemplateId(9400582, "skill", 0)
sm.sendDelay(2500)
sm.sendNext("#face0#See? ")
sm.setParam(57)
sm.sendSay("#bAh, Cayne? ")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400580) # Alika
sm.sendSay("#face0#Cayne, what are you doing? How do you expect him to copy that? ")
sm.showEffect("Effect/OnUserEff.img/emotion/oh", 0, 0, 0, 0, 34869135, 0, 0)
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendSay("#face0#...! ")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#It's a simple sequence of moves. So long as the student trusts in his teacher, it all flows naturally. Student, were you watching? ")
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendNext("#face0#Yes, thank you...")
sm.sendDelay(500)
sm.moveNpcByTemplateId(9400580, False, 320, 100)
sm.flipNpcByTemplateId(9400582, True)
sm.sendDelay(500)
sm.moveNpcByTemplateId(9400582, True, 150, 100)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendNext("#face0#Truly, it's not at all difficult. Just remember two things.")
sm.sendDelay(1000)
sm.sendDelay(1000)
sm.speechBalloon(False, 0, 0, "#fs15##eBlock! Stab!", 3000, 1, 0, 0, 0, 4, 9400582, 4878499)
sm.moveNpcByTemplateId(9400602, True, 50, 50)
sm.sendDelay(3000)
sm.speechBalloon(False, 0, 0, "#fs15#Block, stab.", 3000, 1, 0, 0, 0, 4, 9400602, 4878499)
sm.flipNpcByTemplateId(9400580, True)
sm.sendNext("#face0#Don't forget!")
sm.flipNpcByTemplateId(9400582, False)
sm.sendDelay(500)
sm.showNpcSpecialActionByTemplateId(9400582, "attack1", 0)
sm.sendDelay(500)
sm.speechBalloon(True, 0, 0, "#fs15##eBlock!", 3000, 1, 0, 0, 0, 4, 9400582, 4878499)
sm.showNpcSpecialActionByTemplateId(9400602, "attack2", 0)
sm.sendDelay(3000)
sm.showNpcSpecialActionByTemplateId(9400602, "attack1", 0)
sm.sendDelay(500)
sm.speechBalloon(True, 0, 0, "#fs15##eNext, stab!", 3000, 1, 0, 0, 0, 4, 9400582, 4878499)
sm.showNpcSpecialActionByTemplateId(9400582, "skill", 0)
sm.sendDelay(3000)
sm.sendNext("#face0#Ooh, not bad!")
sm.sendSay("#face0#Block, stab, and repeat three times!")
sm.sendDelay(500)
sm.showNpcSpecialActionByTemplateId(9400602, "attack2", 0)
sm.sendDelay(2100)
sm.showNpcSpecialActionByTemplateId(9400602, "attack1", 0)
sm.sendDelay(1800)
sm.setParam(57)
sm.sendNext("#b...Is this how you normally train in Afinas?")
sm.showNpcSpecialActionByTemplateId(9400602, "attack2", 0)
sm.sendDelay(2100)
sm.showNpcSpecialActionByTemplateId(9400602, "attack1", 0)
sm.sendDelay(1800)
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400580) # Alika
sm.sendNext("#face0#Look, this is entirely on Cayne, alright? Don't assume...")
sm.showNpcSpecialActionByTemplateId(9400602, "attack2", 0)
sm.sendDelay(2100)
sm.showNpcSpecialActionByTemplateId(9400602, "attack1", 0)
sm.sendDelay(1800)
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendNext("#face3#Huff, huff...")
sm.createQuestWithQRValue(49000, "count=1;Quest=0;day=152844;QET=20190623135524;state=2")
sm.createQuestWithQRValue(49000, "count=1;Quest=0;day=152844;QET=20190623135524;state=1")
sm.createQuestWithQRValue(49000, "count=1;Quest=0;day=152844;QET=20190623145525;state=1")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#You look beat, friend. In my professional opinion, you need a few big meals and more fresh air. Haven't been eating or sleeping well, hm?")
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendSay("#face3#Huff, huff... How... did you know that?")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#I have my ways.")
sm.sendSay("#face0#Right! Sparring time. #h0#, are you ready?")
sm.setParam(57)
sm.sendSay("#bOf course.")
sm.forcedMove(True, 100)
sm.lockInGameUI(False, True)
sm.startQuest(64129)
sm.warp(867202480)
