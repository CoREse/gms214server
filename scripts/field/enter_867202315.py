# id 867202315 (Abrup Basin : Skuas), field 867202315
sm.lockInGameUI(True, False)
sm.spawnNpc(9400587, -990, 70)
sm.showNpcSpecialActionByTemplateId(9400587, "summon", 0)
sm.spawnNpc(9400602, -1050, 70)
sm.showNpcSpecialActionByTemplateId(9400602, "summon", 0)
sm.startQuest(64168)
sm.spawnNpc(9400582, -1100, 70)
sm.showNpcSpecialActionByTemplateId(9400582, "summon", 0)
sm.spawnNpc(9400580, -1210, 70)
sm.showNpcSpecialActionByTemplateId(9400580, "summon", 0)
sm.spawnNpc(9400586, -600, 80)
sm.showNpcSpecialActionByTemplateId(9400586, "summon", 0)
sm.spawnNpc(9400588, -600, 80)
sm.showNpcSpecialActionByTemplateId(9400588, "summon", 0)
sm.spawnNpc(9400583, 1450, 0)
sm.showNpcSpecialActionByTemplateId(9400583, "summon", 0)
sm.moveNpcByTemplateId(9400586, True, 170, 100)
sm.sendDelay(1000)
sm.setSpeakerType(3)
sm.setParam(37)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(9400586) # Sanaan
sm.sendNext("Einar! You did wonderfully, Einar! You've made us all so proud.")
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendNext("#face3#Grandma...")
sm.moveNpcByTemplateId(9400602, False, 100, 50)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400586) # Sanaan
sm.sendNext("There, there. You poor thing. Let's get you settled. It's all over now.")
sm.sendDelay(2000)
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendNext("#face3#Ju... Julieta... Julieta is...")
sm.setInnerOverrideSpeakerTemplateID(9400586) # Sanaan
sm.sendSay("What about Julieta?")
sm.moveNpcByTemplateId(9400602, False, 40, 50)
sm.sendDelay(2000)
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendNext("#face1#Julieta is...")
sm.moveNpcByTemplateId(9400588, True, 320, 150)
sm.sendDelay(2000)
sm.setInnerOverrideSpeakerTemplateID(9400588) # Ullan
sm.sendNext("Papa! Alika! Hero! ")
sm.sendDelay(2000)
sm.flipNpcByTemplateId(9400602, True)
sm.sendNext("Papa, are you okay?")
sm.sendSay("Papa, did you really defeat the monster? That's so cool! So is Mama coming back now?")
sm.sendDelay(1000)
sm.showEffect("Effect/OnUserEff.img/emotionBalloon/noSpeak", 2000, 0, 0, 0, 35527934, 0, 0)
sm.sendDelay(2000)
sm.flipNpcByTemplateId(9400602, False)
sm.sendDelay(1000)
sm.sendDelay(1000)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "Ahoy! Managed to stay alive, did you? \r\nYou must have found a great hiding spot, heh.", 2000, 1, 0, 0, 0, 4, 9400590, 4878499)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "What kind of joke is that? \r\nDo you know how many monsters I took down? \r\nYou're the coward, shooting arrows from the safety of the back lines.", 2000, 1, 0, 0, 0, 4, 9400597, 4878499)
sm.sendDelay(1000)
sm.sendDelay(2500)
sm.speechBalloon(False, 0, 0, "Mama! Is it over now?", 2000, 1, 0, 0, 0, 4, 9400593, 4878499)
sm.sendDelay(2500)
sm.speechBalloon(False, 0, 0, "Are we going back home?", 2000, 1, 0, 0, 0, 4, 9400593, 4878499)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "That's right, Hawalu. \r\nWe're going back home...", 2000, 1, 0, 0, 0, 4, 9400591, 4878499)
sm.sendDelay(1000)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "Wow, we really pulled through! \r\nThe town isn't even that torn up!", 2000, 1, 0, 0, 0, 4, 9400638, 4878499)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "That's what I'm talking about! \r\nAnd this new ballista packed a mean punch!", 2000, 1, 0, 0, 0, 4, 9400639, 4878499)
sm.sendDelay(1000)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "Thank you for your help earlier.", 2000, 1, 0, 0, 0, 4, 9400629, 4878499)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "Ha, likewise. I'm thinking we work pretty well together, yeah?", 2000, 1, 0, 0, 0, 4, 9400632, 4878499)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "Yeah! We should go hunting together sometime.", 2000, 1, 0, 0, 0, 4, 9400629, 4878499)
sm.moveNpcByTemplateId(9400583, True, 150, 70)
sm.sendDelay(1000)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "Gillie, you're okay!", 2000, 1, 0, 0, 0, 4, 9400620, 4878499)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "We need to take care of the wounded first. ", 2000, 1, 0, 0, 0, 4, 9400583, 4878499)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "Understood, Gillie!", 2000, 1, 0, 0, 0, 4, 9400622, 4878499)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendNext("#face3#...")
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400586) # Sanaan
sm.sendNext("What's wrong, Einar? Hm? What happened?")
sm.setInnerOverrideSpeakerTemplateID(9400602) # Einar
sm.sendSay("#face3#Erm... nothing... it's nothing.")
sm.moveNpcByTemplateId(9400602, False, 1000, 30)
sm.sendDelay(1000)
sm.flipNpcByTemplateId(9400586, False)
sm.sendDelay(1000)
sm.sendNext("#face3#Don't worry about it...")
sm.sendDelay(1000)
sm.moveNpcByTemplateId(9400586, False, 1000, 25)
sm.sendNext("#face3#Nothing... nothing...")
sm.sendSay("#face3#It's nothing...")
sm.sendDelay(2000)
sm.moveNpcByTemplateId(9400582, False, 30, 50)
sm.flipNpcByTemplateId(9400588, False)
sm.sendDelay(2000)
sm.setInnerOverrideSpeakerTemplateID(9400580) # Alika
sm.sendNext("#face5#Do you think he needs us now? ")
sm.setParam(57)
sm.sendSay("#bNo... I think he's going to need some time to himself. ")
sm.flipNpcByTemplateId(9400588, True)
sm.sendDelay(500)
sm.showEffect("Effect/OnUserEff.img/emotion/what", 0, 0, 0, 0, 35527938, 0, 0)
sm.sendDelay(500)
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400588) # Ullan
sm.sendNext("What are you talking about?")
sm.setInnerOverrideSpeakerTemplateID(9400587) # Kan
sm.sendSay("#face1#...Nothing. ")
sm.moveNpcByTemplateId(9400587, False, 1000, 50)
sm.sendDelay(500)
sm.flipNpcByTemplateId(9400588, False)
sm.sendDelay(500)
sm.moveNpcByTemplateId(9400588, False, 1000, 45)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400580) # Alika
sm.sendNext("#face5#Cayne, could you give us a moment? ")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face2#...Sure.")
sm.sendDelay(500)
sm.flipNpcByTemplateId(9400582, False)
sm.sendDelay(500)
sm.moveNpcByTemplateId(9400582, False, 1000, 50)
sm.sendDelay(1000)
sm.forcedFlip(True)
sm.sendDelay(500)
sm.setInnerOverrideSpeakerTemplateID(9400580) # Alika
sm.sendNext("#face4##h0#... ")
sm.sendSay("#face4#Do you remember the dream I told you about in the forest? ")
sm.setParam(57)
sm.sendSay("#bYes, the one about running... ")
sm.setParam(37)
sm.sendSay("#face4#That's right, the girl running away and then lying on the snowfield. ")
sm.sendSay("#face4#Until now, I couldn't be sure the two girls were the same person or not. ")
sm.sendSay("#face5#And there's something else I didn't tell you. ")
sm.sendSay("#face5#It was Blanche. Sanaan's granddaughter is the girl from my dream. ")
sm.sendDelay(1000)
sm.avatarOriented("Effect/OnUserEff.img/emotionBalloon/exclamation")
sm.setParam(57)
sm.sendNext("#bBlanche?! ")
sm.setParam(37)
sm.sendSay("#face5#Yes... I'm certain. Bluish-gray skin and long black hair. It's the girl from the picture. ")
sm.setParam(57)
sm.sendSay("#bWhat is Blanche doing in your dream, Alika? ")
sm.setParam(37)
sm.sendSay("#face5#There's more... ")
sm.sendSay("#face5#Julieta... that frail little girl inside the monster... was the girl lying in the snow in my dream. ")
sm.setParam(57)
sm.sendSay("#b...? ")
sm.setParam(37)
sm.sendSay("#face4##h0#, you said you have leads on who was behind the abductions, right? ")
sm.setParam(57)
sm.sendSay("#bI have clues, but nothing concrete yet. I'm still working on it. ")
sm.setParam(37)
sm.sendSay("#face4#Well, I want to work on it with you. ")
sm.sendSay("#face4#My dreams... they feel like cries for help! We're too late to save Julieta, but maybe there's still a chance to save Blanche. ")
sm.sendSay("#face4#And the other people of Abrup that disappeared... they must be with Blanche as well. ")
sm.sendSay("#face4##h0#... I have to get to the bottom of this. It feels like my responsibility. ")
sm.sendSay("#face5#Please... Will you help me? ")
sm.sendDelay(1000)
sm.setParam(57)
sm.sendNext("#bAlika... ")
sm.setParam(37)
sm.sendSay("#face0#You don't have to answer right away. ")
sm.sendDelay(1000)
sm.setParam(57)
sm.sendNext("#bBut why me? ")
sm.setParam(37)
sm.sendSay("#face4#...I don't know. It just feels right. ")
sm.sendSay("#face4#We're two people that never would have met, had fate not brought us together. ")
sm.sendSay("#face4#I had a dream, and you found a letter. Those simple events have led to all of this. ")
sm.sendSay("#face4#All that time we spent wandering the forest, searching for a girl we didn't know... There's a reason for this. A reason we're here. Together. ")
sm.sendSay("#face4##h0#... don't you feel it too?")
sm.sendDelay(1000)
sm.setParam(57)
sm.sendNext("#b...Alright. We'll do this together.")
sm.blind(True, 255, 0, 0, 0, 2000)
sm.sendDelay(2000)
sm.lockInGameUI(False, True)
sm.completeQuestNoCheck(64143)
sm.warp(867202990)
