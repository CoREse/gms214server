# id 450003711 (Lachelein Alley : Lachelein Alley), field 450003711
if sm.hasQuest(34301):
    sm.lockInGameUI(True, False)
    sm.blind(True, 255, 0, 0, 0, 0)
    sm.zoomCamera(0, 2000, 0, 543, 70)
    sm.spawnNpc(3003245, 600, -10)
    sm.showNpcSpecialActionByTemplateId(3003245, "summon", 0)
    sm.spawnNpc(3003257, 670, -10)
    sm.showNpcSpecialActionByTemplateId(3003257, "summon", 0)
    sm.spawnNpc(3003257, 950, -10)
    sm.showNpcSpecialActionByTemplateId(3003257, "summon", 0)
    sm.onLayer(2000, "0", 0, -80, 15, "Map/Effect3.img/Lacheln/1", 4, True, -1, False)
    sm.onLayer(2000, "1", 0, -80, 15, "Map/Effect3.img/Lacheln/2", 4, True, -1, False)
    sm.sendDelay(3000)
    sm.changeBGM("Bgm46.img/ClockTowerofNightmare", 0, 0)
    sm.setSpeakerType(3)
    sm.setParam(37)
    sm.setColor(1)
    sm.setInnerOverrideSpeakerTemplateID(3003250) # Lucid
    sm.sendNext("#face1#Have you ever struggled to awaken from a dream?")
    sm.playExclSoundWithDownBGM("Voice3.img/Lucid/Q1/0", 128)
    sm.sendSay("#face1#Even though you know you are dreaming, the darkness won't \r\nrelease its hold on you... You are paralyzed, and a feeling of helplessness \r\nwashes over you.")
    sm.playExclSoundWithDownBGM("Voice3.img/Lucid/Q1/1", 128)
    sm.sendSay("#face1#I realized when I tore through the cocoon of endless darkness and emerged into the world...")
    sm.playExclSoundWithDownBGM("Voice3.img/Lucid/Q1/2", 128)
    sm.sendSay("#face1#That I was no longer weak.")
    sm.playExclSoundWithDownBGM("Voice3.img/Lucid/Q1/3", 128)
    sm.bgmVolume(100, 1000)
    sm.playSound("flowervioleta/spotlight", 100)
    sm.offLayer(1500, "1", False)
    sm.onLayer(1500, "2", 0, -80, 15, "Map/Effect3.img/Lacheln/3", 4, True, -1, False)
    sm.sendDelay(3000)
    sm.offLayer(1500, "0", False)
    sm.offLayer(1500, "2", False)
    sm.blind(True, 255, 0, 0, 0, 0)
    sm.sendDelay(1200)
    sm.blind(False, 0, 0, 0, 0, 1000)
    sm.sendDelay(1400)
    sm.setInnerOverrideSpeakerTemplateID(3003245) # Star Mask
    sm.sendNext("S-spare... me...")
    sm.sendDelay(1500)
    sm.showEffect("Map/Effect3.img/Lacheln/pung", 0, 0, -20, 0, 126144594, 0, 0)
    sm.sendDelay(300)
    sm.playExclSoundWithDownBGM("Skill.img/1201005/Use", 100)
    sm.showNpcSpecialActionByTemplateId(3003245, "remove", -1)
    sm.bgmVolume(100, 1000)
    sm.sendDelay(1000)
    sm.showEffect("Map/Effect3.img/Lacheln/pung2", 0, -20, -20, 0, 126144594, 0, 0)
    sm.sendDelay(3000)
    sm.setInnerOverrideSpeakerTemplateID(3003257) # Dreamkeeper
    sm.sendNext("There is... another.")
    sm.forcedMove(True, 300)
    sm.moveNpcByTemplateId(3003257, True, 200, 100)
    sm.sendDelay(3500)
    sm.setParam(57)
    sm.sendNext("Who are you?")
    sm.setParam(37)
    sm.setInnerOverrideSpeakerTemplateID(3003250) # Lucid
    sm.sendSay("#face6#Welcome to Lachelein, the city of dreams and illusions. Here, there is no sadness or pain. ")
    sm.sendSay("#face6#I hope your dream is a pleasant one.")
    sm.sendDelay(500)
    sm.showEffect("Effect/OnUserEff.img/emotion/oh", 0, 0, 0, 0, 0, 0, 0)
    sm.showEffect("Map/Effect3.img/Lacheln/pung", 0, 0, -20, 0, 0, 0, 0)
    sm.sendDelay(2000)
    sm.playExclSoundWithDownBGM("Skill.img/1201005/Use", 100)
    sm.bgmVolume(100, 1000)
    sm.setParam(57)
    sm.sendNext("Nothing... happened?")
    sm.setParam(37)
    sm.sendSay("#face5#Oh my! It's you... An honored guest.")
    sm.sendDelay(1500)
    sm.changeBGM("Bgm00.img/Silence", 0, 0)
    sm.playSound("Sound/SoundEff.img/blackHeaven/electric_loop", 200)
    sm.sendDelay(1500)
    sm.bgmVolume(0, 2000)
    sm.playSound("flowervioleta/spotlight", 100)
    sm.blind(True, 255, 0, 0, 0, 0)
    sm.sendNext("#face0#Oh?")
    sm.setInnerOverrideSpeakerTemplateID(3003251) # Protective Mask
    sm.sendSay("#face0#Hurry, this way!")
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot0", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot1", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot2", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot0", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot1", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot2", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot0", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot1", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot2", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot0", 200)
    sm.sendDelay(150)
    sm.playSound("Sound/SoundEff.img/ArcaneRiver/foot1", 200)
    sm.sendDelay(150)
    sm.sendDelay(1000)
    sm.setInnerOverrideSpeakerTemplateID(3003250) # Lucid
    sm.sendNext("#face1#Well, well... ")
    sm.sendSay("#face6#You let them get away.")
    sm.setInnerOverrideSpeakerTemplateID(3003257) # Dreamkeeper
    sm.sendSay("P-please... Have mercy...")
    sm.sendDelay(500)
    sm.playExclSoundWithDownBGM("Skill.img/1201005/Use", 100)
    sm.playSound("Sound/Mob.img/8643000/Die", 200)
    sm.sendDelay(1500)
    sm.lockInGameUI(False, True)
    sm.warp(450003100)
