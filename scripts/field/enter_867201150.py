# id 867201150 (Abrup Basin : Windsleep Forest Outskirts), field 867201150
sm.lockInGameUI(True, False)
sm.spawnNpc(9400612, -1035, 90)
sm.showNpcSpecialActionByTemplateId(9400612, "summon", 0)
sm.spawnNpc(9400612, -570, 90)
sm.showNpcSpecialActionByTemplateId(9400612, "summon", 0)
sm.spawnNpc(9400612, -146, 90)
sm.showNpcSpecialActionByTemplateId(9400612, "summon", 0)
sm.spawnNpc(9400612, 390, 90)
sm.showNpcSpecialActionByTemplateId(9400612, "summon", 0)
sm.spawnNpc(9400585, -795, 90)
sm.showNpcSpecialActionByTemplateId(9400585, "summon", 0)
sm.showNpcSpecialActionByTemplateId(9400585, "attack1", -1)
sm.spawnNpc(9400596, 650, 90)
sm.showNpcSpecialActionByTemplateId(9400596, "summon", 0)
sm.showNpcSpecialActionByTemplateId(9400596, "attack1", -1)
sm.spawnNpc(9400596, -860, 90)
sm.showNpcSpecialActionByTemplateId(9400596, "summon", 0)
sm.showNpcSpecialActionByTemplateId(9400596, "attack1", -1)
sm.spawnNpc(9400582, 190, 90)
sm.showNpcSpecialActionByTemplateId(9400582, "summon", 0)
sm.startQuest(64164)
sm.showNpcSpecialActionByTemplateId(9400582, "attack1", -1)
sm.spawnNpc(9400589, -326, 90)
sm.showNpcSpecialActionByTemplateId(9400589, "summon", 0)
sm.showNpcSpecialActionByTemplateId(9400589, "attack1", -1)
sm.spawnNpc(9400587, -450, 90)
sm.showNpcSpecialActionByTemplateId(9400587, "summon", 0)
sm.showNpcSpecialActionByTemplateId(9400587, "attack1", -1)
sm.spawnNpc(9400591, -1436, 90)
sm.showNpcSpecialActionByTemplateId(9400591, "summon", 0)
sm.spawnNpc(9400675, -1503, 90)
sm.showNpcSpecialActionByTemplateId(9400675, "summon", 0)
sm.forcedAction(5, 2000)
sm.sendDelay(2000)
sm.showNpcSpecialActionByTemplateId(9400612, "die1", 0)
sm.sendDelay(900)
sm.showNpcSpecialActionByTemplateId(9400612, "die1", 0)
sm.sendDelay(900)
sm.showNpcSpecialActionByTemplateId(9400612, "die1", 0)
sm.sendDelay(300)
sm.showNpcSpecialActionByTemplateId(9400612, "die1", 0)
sm.resetNpcSpecialActionByTemplateId(9400585)
sm.resetNpcSpecialActionByTemplateId(9400596)
sm.resetNpcSpecialActionByTemplateId(9400596)
sm.resetNpcSpecialActionByTemplateId(9400582)
sm.resetNpcSpecialActionByTemplateId(9400589)
sm.resetNpcSpecialActionByTemplateId(9400587)
sm.sendDelay(1500)
sm.sendDelay(900)
sm.sendDelay(900)
sm.sendDelay(300)
sm.setSpeakerType(3)
sm.setParam(37)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(9400591) # Shulla
sm.sendNext("Aghhhh!! ")
sm.forcedFlip(True)
sm.flipNpcByTemplateId(9400582, True)
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#What now? ")
sm.showNpcSpecialActionByTemplateId(9400675, "skill2", -1)
sm.showNpcSpecialActionByTemplateId(9400591, "grab", -1)
sm.sendDelay(600)
sm.forcedMove(True, 900)
sm.moveNpcByTemplateId(9400582, True, 710, 250)
sm.sendDelay(1000)
sm.flipNpcByTemplateId(9400589, True)
sm.sendDelay(600)
sm.flipNpcByTemplateId(9400585, True)
sm.moveNpcByTemplateId(9400587, True, 550, 300)
sm.sendDelay(600)
sm.setParam(57)
sm.sendNext("#bShulla! ")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400591) # Shulla
sm.sendSay("H-help! ")
sm.sendDelay(2100)
sm.showNpcSpecialActionByTemplateId(9400587, "attack1", 0)
sm.sendDelay(600)
sm.moveNpcByTemplateId(9400582, True, 550, 300)
sm.sendDelay(1500)
sm.forcedMove(True, 350)
sm.resetNpcSpecialActionByTemplateId(9400675)
sm.showNpcSpecialActionByTemplateId(9400675, "hit1", 300)
sm.resetNpcSpecialActionByTemplateId(9400591)
sm.sendDelay(600)
sm.flipNpcByTemplateId(9400591, False)
sm.sendDelay(600)
sm.moveNpcByTemplateId(9400591, False, 236, 150)
sm.moveNpcByTemplateId(9400589, True, 475, 100)
sm.sendDelay(1200)
sm.moveNpcByTemplateId(9400582, True, 50, 100)
sm.sendDelay(900)
sm.showNpcSpecialActionByTemplateId(9400675, "attack1", 0)
sm.sendDelay(300)
sm.showNpcSpecialActionByTemplateId(9400582, "skill", 0)
sm.playSound("Sound/Mob.img/9402301/Skill1", 128)
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendNext("#face0#Have at you! ")
sm.forcedMove(True, 50)
sm.sendDelay(1000)
sm.forcedAction(5, 0)
sm.sendDelay(1000)
sm.showNpcSpecialActionByTemplateId(9400675, "die1", 0)
sm.sendDelay(1600)
sm.sendDelay(1000)
sm.forcedFlip(True)
sm.flipNpcByTemplateId(9400582, False)
sm.setInnerOverrideSpeakerTemplateID(9400591) # Shulla
sm.sendNext("Ugh... Kan... ")
sm.sendDelay(1000)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400587) # Kan
sm.sendNext("#face0#Did I not tell you to stay away from the forest?! ")
sm.setInnerOverrideSpeakerTemplateID(9400591) # Shulla
sm.sendSay("I am... sorry... ")
sm.setInnerOverrideSpeakerTemplateID(9400587) # Kan
sm.sendSay("#face1#You need to be careful, for the sake of the child you still have! ")
sm.sendSay("#face0#What are you going to do if you get hurt? ")
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400589) # Peytour
sm.sendNext("#face0#Kan! I know how you feel, but Shulla doesn't deserve this. ")
sm.sendSay("#face0#I'm sorry, but you need to step back for a minute and collect yourself. ")
sm.setInnerOverrideSpeakerTemplateID(9400587) # Kan
sm.sendSay("#face0#... ")
sm.setInnerOverrideSpeakerTemplateID(9400589) # Peytour
sm.sendSay("#face0#Kan... ")
sm.spawnNpc(9400596, -1850, 0)
sm.showNpcSpecialActionByTemplateId(9400596, "summon", 0)
sm.spawnNpc(9400618, -1900, 0)
sm.showNpcSpecialActionByTemplateId(9400618, "summon", 0)
sm.spawnNpc(9400619, -650, 0)
sm.showNpcSpecialActionByTemplateId(9400619, "summon", 0)
sm.moveNpcByTemplateId(9400596, False, 550, 100)
sm.moveNpcByTemplateId(9400618, False, 550, 100)
sm.moveNpcByTemplateId(9400619, True, 140, 50)
sm.sendDelay(1000)
sm.flipNpcByTemplateId(9400587, False)
sm.sendDelay(500)
sm.setInnerOverrideSpeakerTemplateID(9400587) # Kan
sm.sendNext("#face1#...I'm so tired, Peytour. I've lost enough people, and sacrificed so much. I just want this to end! ")
sm.sendSay("#face1#I've tried so hard to keep everyone pushing on, but when I hear someone fall apart like that... what is there left for me to do? ")
sm.sendSay("#face1#All I want is to protect our people! I can't do that if they can't help themselves! ")
sm.sendSay("#face1#Peytour... if even you can't understand me... then I... ")
sm.moveNpcByTemplateId(9400589, True, 30, 30)
sm.setInnerOverrideSpeakerTemplateID(9400589) # Peytour
sm.sendSay("#face0#Rest easy, Kan. I understand your struggle, and I know the others do as well. ")
sm.sendSay("#face0#Truly, look around! ")
sm.sendSay("#face0#None of these people would be here without you. They trust you, believe in you... How can you not see how much they care about you? ")
sm.flipNpcByTemplateId(9400587, True)
sm.sendDelay(500)
sm.flipNpcByTemplateId(9400587, False)
sm.sendDelay(500)
sm.flipNpcByTemplateId(9400587, True)
sm.sendDelay(1000)
sm.flipNpcByTemplateId(9400587, False)
sm.sendDelay(250)
sm.moveNpcByTemplateId(9400587, False, 150, 100)
sm.sendDelay(500)
sm.setInnerOverrideSpeakerTemplateID(9400591) # Shulla
sm.sendNext("Kan! ")
sm.sendSay("I'm sorry I'm... so weak. But you shouldn't beat yourself up on my account. ")
sm.sendSay("We all took an important a step forward when we left town. Our road is hard, but we owe it to each other to persist. ")
sm.sendSay("But Kan... you're still stuck in the past. ")
sm.sendDelay(500)
sm.moveNpcByTemplateId(9400591, False, 100, 50)
sm.flipNpcByTemplateId(9400589, False)
sm.sendNext("Believe me, I know how that feels. But you can't change what happened. Tormenting yourself accomplishes nothing! ")
sm.setInnerOverrideSpeakerTemplateID(9400596) # Snowfield Archer
sm.sendSay("Shulla is right, Chief! ")
sm.moveNpcByTemplateId(9400596, False, 100, 50)
sm.sendSay("No one blames you for what happened that day. Why can't you forgive yourself? We hate to see you like this! ")
sm.sendSay("The chief I remember listened to everyone and decided for the group. He didn't give heartless orders. ")
sm.moveNpcByTemplateId(9400618, False, 100, 50)
sm.sendSay("We're all waiting for the day that you start leading with your heart again. ")
sm.setInnerOverrideSpeakerTemplateID(9400591) # Shulla
sm.sendSay("Please, Kan... we miss the old you. ")
sm.sendDelay(500)
sm.moveNpcByTemplateId(9400591, False, 30, 50)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400589) # Peytour
sm.sendNext("#face0#Remember who you are, Kan.")
sm.flipNpcByTemplateId(9400587, True)
sm.moveNpcByTemplateId(9400596, False, 40, 50)
sm.moveNpcByTemplateId(9400618, False, 40, 50)
sm.setInnerOverrideSpeakerTemplateID(9400587) # Kan
sm.sendSay("#face1#... ")
sm.sendSay("#face1#I... I am... ")
sm.setInnerOverrideSpeakerTemplateID(9400589) # Peytour
sm.sendSay("#face0#You don't have to say anything... ")
sm.sendDelay(1000)
sm.sendDelay(2000)
sm.speechBalloon(True, 0, 0, "Sob... Aah...", 2000, 1, 0, 0, 0, 4, 9400587, 4878499)
sm.sendDelay(2000)
sm.speechBalloon(True, 0, 0, "Kan...", 2000, 1, 0, 0, 0, 4, 9400589, 4878499)
sm.sendDelay(3000)
sm.speechBalloon(True, 0, 0, "It's okay to cry...", 2000, 1, 0, 0, 0, 4, 9400591, 4878499)
sm.completeQuestNoCheck(64046)
sm.sendDelay(1000)
sm.flipNpcByTemplateId(9400582, True)
sm.sendDelay(1000)
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendNext("#face1##h0#, we should go hunt.")
sm.lockInGameUI(False, True)
sm.createQuestWithQRValue(64046, "dir1=1")
sm.completeQuestNoCheck(64046)
sm.warp(867201130)
