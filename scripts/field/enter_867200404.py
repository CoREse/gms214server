# id 867200404 (Abrup Basin : Kaptafel Ashes), field 867200404
sm.lockInGameUI(True, False)
sm.spawnNpc(9400582, -2650, 220)
sm.showNpcSpecialActionByTemplateId(9400582, "summon", 0)
sm.spawnNpc(9400589, -2580, 220)
sm.showNpcSpecialActionByTemplateId(9400589, "summon", 0)
sm.moveNpcByTemplateId(9400589, False, 300, 100)
sm.sendDelay(500)
sm.moveNpcByTemplateId(9400582, False, 300, 100)
sm.sendDelay(500)
sm.forcedMove(False, 320)
sm.sendDelay(1500)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "Wait, no! I lost my brooch! I \r\nmust have dropped it in the forest.", 2000, 1, 0, 0, 0, 4, 9400582, 4878499)
sm.showEffect("Effect/OnUserEff.img/questEffect/PL_MONAD1/3", 0, 0, 0, 0, 16941859, 0, 0)
sm.sendDelay(500)
sm.flipNpcByTemplateId(9400589, True)
sm.sendDelay(3500)
sm.speechBalloon(True, 0, 0, "Hah, you didn't drop it. \r\nWe don't take valuables into the forest for that very reason. \r\nOne of the beasts there is notorious for thieving.", 4000, 1, 0, 0, 0, 4, 9400589, 4878499)
sm.flipNpcByTemplateId(9400582, True)
sm.sendDelay(2500)
sm.speechBalloon(True, 0, 0, "One? Which one? Are you talking about #h0#?", 2000, 1, 0, 0, 0, 4, 9400582, 4878499)
sm.sendDelay(3000)
sm.speechBalloon(True, 0, 0, "...", 2000, 1, 0, 0, 0, 4, 0, 4878499)
sm.sendDelay(250)
sm.speechBalloon(True, 0, 0, "Since you said you could defeat it with a single blow, I left it be.", 2000, 1, 0, 0, 0, 4, 9400589, 4878499)
sm.spawnNpc(9400592, -1700, 350)
sm.showNpcSpecialActionByTemplateId(9400592, "summon", 0)
sm.sendDelay(300)
sm.moveNpcByTemplateId(9400592, True, 340, 100)
sm.sendDelay(1000)
sm.sendDelay(2000)
sm.setSpeakerType(3)
sm.setParam(57)
sm.setColor(1)
sm.sendNext("#b(Hey, it's that messed up guy from the base camp! Looks like he made it to town okay.) ")
sm.sendDelay(1000)
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400592) # Aruhi
sm.sendNext("#face0#Oh! Peytour-HIC! Our wise counsel-HIC-or! No... Advisor! Yeah. Advisor. Hee hee... Say, any advice on where to find something to drink? HIC! ")
sm.flipNpcByTemplateId(9400589, False)
sm.flipNpcByTemplateId(9400582, False)
sm.setInnerOverrideSpeakerTemplateID(9400589) # Peytour
sm.sendSay("#face0#Aruhi, where did you...! ")
sm.moveNpcByTemplateId(9400589, False, 20, 100)
sm.sendSay("#face0#Ah... nevermind. ")
sm.setInnerOverrideSpeakerTemplateID(9400592) # Aruhi
sm.sendSay("#face0#No, not nevermind! HIC! You'd better mind everything, or this cruel winter's gonna getcha! ")
sm.sendSay("#face0#The village burns! HIC! The snow pours down! HIC! And behind it all, a giant shadow! ")
sm.sendDelay(300)
sm.sendDelay(300)
sm.avatarOriented("Effect/OnUserEff.img/emotionBalloon/exclamation")
sm.setParam(57)
sm.sendNext("#bA giant shadow? ")
sm.forcedMove(False, 30)
sm.sendDelay(500)
sm.spawnNpc(9400588, -1507, 354)
sm.showNpcSpecialActionByTemplateId(9400588, "summon", 0)
sm.startQuest(64161)
sm.sendDelay(500)
sm.setParam(37)
sm.sendNext("#face0#Hee hee. You saw it too, didn't you? HIC! ")
sm.sendSay("#face0#Looming! Looming! Moving! Moving! ")
sm.sendDelay(500)
sm.setParam(57)
sm.sendNext("#b(Aruhi must have seen the same thing.) ")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400589) # Peytour
sm.sendSay("#face0#Oh, Aruhi... ")
sm.sendDelay(1000)
sm.flipNpcByTemplateId(9400589, True)
sm.sendDelay(1000)
sm.sendNext("#face0#Cayne, #h0#, I should get Aruhi settled. I'll meet you in town later. ")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#Indeed! See you soon. ")
sm.sendDelay(1000)
sm.flipNpcByTemplateId(9400589, False)
sm.sendDelay(250)
sm.moveNpcByTemplateId(9400589, False, 50, 50)
sm.sendDelay(500)
sm.flipNpcByTemplateId(9400592, False)
sm.sendDelay(500)
sm.moveNpcByTemplateId(9400592, False, 1000, 60)
sm.sendDelay(300)
sm.moveNpcByTemplateId(9400589, False, 1000, 60)
sm.moveNpcByTemplateId(9400588, True, 600, 80)
sm.sendDelay(3000)
sm.setParam(57)
sm.sendNext("#b(Maybe wait until Aruhi cleans up before asking...)")
sm.createQuestWithQRValue(64020, "chk1=1")
sm.sendDelay(1000)
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400588) # Ullan
sm.sendNext("Looks like he's at it again... ")
sm.sendSay("Oh! Hi, Cayne! And... #h0#! ")
sm.setParam(57)
sm.sendSay("#bI'm glad to see you're okay. ")
sm.setParam(37)
sm.sendSay("Thanks to you! Hee hee. Hopefully you can forget about my little... breakdown before. Things were just so stressful! ")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#Ha! You were bawling your eyes out when we met. Rather hard to forget something like that. ")
sm.moveNpcByTemplateId(9400588, True, 50, 80)
sm.setInnerOverrideSpeakerTemplateID(9400588) # Ullan
sm.sendNext("Gee, thanks. Totally what I wanted to hear. ")
sm.sendSay("Anyway, listen. Aruhi wasn't always like that... ")
sm.sendSay("I think all this stuff with the monsters and the disappearances just made him... well, break down. He's lost his mind. ")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#Seems a little harsh for such a jolly fellow... ")
sm.setInnerOverrideSpeakerTemplateID(9400588) # Ullan
sm.sendSay("Jolly? He does that to himself to keep the pain away. He lies, he jokes, and sometimes he fights. All to distract himself from his troubles. ")
sm.sendSay("He's tried cleaning up a couple times and... you can see how well that went. ")
sm.sendSay("At least Peytour is nice enough to look out for him. ")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#Hmm. ")
sm.setParam(57)
sm.sendSay("#bDid he lose his family as well? ")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400588) # Ullan
sm.sendSay("Honestly, it'd be hard to find someone who HASN'T lost family in this town. ")
sm.setParam(57)
sm.sendSay("#b... ")
sm.setParam(37)
sm.sendSay("Oh geez, I totally forgot why I came here in the first place! I'm looking for Pete and Elle. Have you seen two little Shrelephants, one with a ribbon? ")
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendSay("#face0#I think I would have remembered that. ")
sm.setParam(57)
sm.sendSay("#bYeah, I've only seen the raging ones. ")
sm.setParam(37)
sm.setInnerOverrideSpeakerTemplateID(9400588) # Ullan
sm.sendSay("Ooh, where would they have gone? I gotta get going! ")
sm.flipNpcByTemplateId(9400588, True)
sm.sendDelay(250)
sm.moveNpcByTemplateId(9400588, True, 1000, 90)
sm.sendDelay(1000)
sm.flipNpcByTemplateId(9400582, True)
sm.setInnerOverrideSpeakerTemplateID(9400582) # Cayne
sm.sendNext("#face0##h0#, we should get going as well.")
sm.completeQuestNoCheck(64022)
sm.lockInGameUI(False, True)
sm.warp(867200400)
