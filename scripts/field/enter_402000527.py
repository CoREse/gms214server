# id 402000527 (null), field 402000527
sm.completeQuestNoCheck(34859)
sm.createQuestWithQRValue(34859, "carn=2")
sm.lockInGameUI(True, False)
sm.removeAdditionalEffect()
sm.blind(True, 255, 0, 0, 0, 0)
sm.forcedFlip(True)
sm.spawnNpc(3001314, -333, 56)
sm.showNpcSpecialActionByTemplateId(3001314, "summon", 0)
sm.spawnNpc(3001315, -211, 56)
sm.showNpcSpecialActionByTemplateId(3001315, "summon", 0)
sm.spawnNpc(3001308, -89, 56)
sm.showNpcSpecialActionByTemplateId(3001308, "summon", 0)
sm.spawnNpc(3001311, -32, 56)
sm.showNpcSpecialActionByTemplateId(3001311, "summon", 0)
sm.spawnNpc(3001323, -493, 56)
sm.showNpcSpecialActionByTemplateId(3001323, "summon", 0)
sm.spawnNpc(3001307, 29, 56)
sm.showNpcSpecialActionByTemplateId(3001307, "summon", 0)
sm.sendDelay(1000)
sm.createFieldTextEffect("#fnﾳﾪﾴﾮﾰ￭ﾵ￱ ExtraBold##fs18#Second Class: Magical Combat Training", 20, 2200, 6, -50, -50, 1, 4, 0, 0, 0)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(2000)
sm.showNpcSpecialActionByTemplateId(3001314, "skill", -1)
sm.playSound("Sound/SoundEff.img/illium/student_skill", 100)
sm.showNpcSpecialActionByTemplateId(3001323, "hit", 1)
sm.sendDelay(100)
sm.speechBalloon(False, 0, 0, "Hyah!", 1000, 1, 0, 0, 0, 4, 3001314, 4600225)
sm.playSound("Sound/Mob.img/2400407/Damage", 100)
sm.sendDelay(1200)
sm.resetNpcSpecialActionByTemplateId(3001314)
sm.setSpeakerType(3)
sm.setParam(37)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(3001307) # Dean
sm.sendNext("#face0#Step aside! I'll show you how it's done!")
sm.setInnerOverrideSpeakerTemplateID(3001303) # Professor Andrada
sm.sendSay("#face0#Dean, pay attention.")
sm.setInnerOverrideSpeakerTemplateID(3001307) # Dean
sm.sendSay("#face2#Ah! Okay...")
sm.setInnerOverrideSpeakerTemplateID(3001303) # Professor Andrada
sm.sendSay("#face0#All right, next!")
sm.blind(True, 255, 0, 0, 0, 500)
sm.sendDelay(500)
sm.forcedFlip(True)
sm.spawnNpc(3001314, 29, 56)
sm.showNpcSpecialActionByTemplateId(3001314, "summon", 0)
sm.spawnNpc(3001315, -333, 56)
sm.showNpcSpecialActionByTemplateId(3001315, "summon", 0)
sm.spawnNpc(3001308, -150, 56)
sm.showNpcSpecialActionByTemplateId(3001308, "summon", 0)
sm.spawnNpc(3001311, -93, 56)
sm.showNpcSpecialActionByTemplateId(3001311, "summon", 0)
sm.spawnNpc(3001307, -34, 56)
sm.showNpcSpecialActionByTemplateId(3001307, "summon", 0)
sm.sendDelay(800)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1000)
sm.showNpcSpecialActionByTemplateId(3001315, "skill", -1)
sm.playSound("Sound/SoundEff.img/illium/student_skill", 100)
sm.showNpcSpecialActionByTemplateId(3001323, "hit", 1)
sm.sendDelay(100)
sm.speechBalloon(False, 0, 0, "Hah!", 1000, 1, 0, 0, 0, 4, 3001315, 4600225)
sm.playSound("Sound/Mob.img/2400407/Damage", 100)
sm.sendDelay(1200)
sm.resetNpcSpecialActionByTemplateId(3001315)
sm.resetNpcSpecialActionByTemplateId(3001314)
sm.flipNpcByTemplateId(3001314, True)
sm.sendDelay(30)
sm.sendNext("#face0#Everyone's doing well!")
sm.setInnerOverrideSpeakerTemplateID(3001308) # Carnelian
sm.sendSay("#face1#Wow! That was great! Practicing yesterday really helped! What a relief!")
sm.blind(True, 255, 0, 0, 0, 500)
sm.sendDelay(500)
sm.forcedFlip(True)
sm.spawnNpc(3001314, -34, 56)
sm.showNpcSpecialActionByTemplateId(3001314, "summon", 0)
sm.spawnNpc(3001315, 29, 56)
sm.showNpcSpecialActionByTemplateId(3001315, "summon", 0)
sm.spawnNpc(3001308, -212, 56)
sm.showNpcSpecialActionByTemplateId(3001308, "summon", 0)
sm.spawnNpc(3001311, -160, 56)
sm.showNpcSpecialActionByTemplateId(3001311, "summon", 0)
sm.spawnNpc(3001307, -96, 56)
sm.showNpcSpecialActionByTemplateId(3001307, "summon", 0)
sm.sendDelay(1200)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1400)
sm.setInnerOverrideSpeakerTemplateID(3001303) # Professor Andrada
sm.sendNext("#face0#You must be the new student.")
sm.sendSay("#face0#You're Illium, right? It's your turn.")
sm.forcedMove(True, 40)
sm.sendDelay(1000)
sm.forcedAction(7, 0)
sm.resetNpcSpecialActionByTemplateId(3001323)
sm.showNpcSpecialActionByTemplateId(3001323, "hit", 0)
sm.sendDelay(2000)
sm.sendDelay(2000)
sm.speechBalloon(True, 0, 0, "That was an attack, right?", 2000, 1, 0, 0, 0, 4, 3001314, 4600225)
sm.sendDelay(2000)
sm.speechBalloon(True, 0, 0, "How strange...", 2000, 1, 0, 0, 0, 4, 3001315, 4600225)
sm.setInnerOverrideSpeakerTemplateID(3001307) # Dean
sm.sendNext("#face1#Hah! What was that?! My grandma could have done better!")
sm.setInnerOverrideSpeakerTemplateID(3001311) # Sinaria
sm.sendSay("#face4#That was disappointing.")
sm.setInnerOverrideSpeakerTemplateID(3001350) # Illium
sm.sendSay("#face3#Aww...")
sm.setInnerOverrideSpeakerTemplateID(3001303) # Professor Andrada
sm.sendSay("#face0#A normal attack won't do! You must use #bmagic#k.")
sm.sendSay("#face0#Gather the mytocrystal energy in your #bwings#k, then transfer it to the crystal on your hand.")
sm.sendSay("#face0#Ah, but you don't have #rwings#k.")
sm.sendSay("#face0#Well, you may not have wings, but I'm sure you can find other ways to use your magic even if they are a bit unorthodox.")
sm.setInnerOverrideSpeakerTemplateID(3001350) # Illium
sm.sendSay("#face3#My problem is figuring out how.")
sm.setInnerOverrideSpeakerTemplateID(3001303) # Professor Andrada
sm.sendSay("#face0#Attack the practice robot using whatever means you can think of.")
sm.setInnerOverrideSpeakerTemplateID(3001350) # Illium
sm.sendSay("#face8#Hmm...")
sm.sendDelay(1000)
sm.forcedAction(1342, 0)
sm.showEffect("Skill/15200.img/skill/152001001/effect", 0, 0, 0, 0, 0, 0, 0)
sm.playSound("Sound/Skill.img/152001001/Use", 100)
sm.sendDelay(300)
sm.showEffect("Skill/15200.img/skill/152001001/hit", 0, 0, 0, 0, 80674123, 0, 0)
sm.showNpcSpecialActionByTemplateId(3001323, "die", 0)
sm.sendDelay(300)
sm.playSound("Sound/Mob.img/2400407/Die", 100)
sm.sendDelay(700)
sm.sendDelay(1000)
sm.speechBalloon(False, 0, 0, "!?", 1000, 1, 0, 0, 0, 4, 3001314, 4600225)
sm.speechBalloon(False, 0, 0, "!?", 1000, 1, 0, 0, 0, 4, 3001315, 4600225)
sm.speechBalloon(False, 0, 0, "!?", 1000, 1, 0, 0, 0, 4, 3001308, 4600225)
sm.speechBalloon(False, 0, 0, "!?", 1000, 1, 0, 0, 0, 4, 3001311, 4600225)
sm.speechBalloon(False, 0, 0, "!?", 1000, 1, 0, 0, 0, 4, 3001307, 4600225)
sm.sendDelay(1500)
sm.speechBalloon(False, 0, 0, "What was that?!", 1500, 0, 0, 0, 0, 4, 3001315, 4600225)
sm.flipNpcByTemplateId(3001314, False)
sm.sendDelay(30)
sm.sendDelay(1000)
sm.speechBalloon(False, 0, 0, "I have no idea what just happened.", 1500, 0, 0, 0, 0, 4, 3001314, 4600225)
sm.setInnerOverrideSpeakerTemplateID(3001311) # Sinaria
sm.sendNext("#face4#Was that magic you used?")
sm.setInnerOverrideSpeakerTemplateID(3001307) # Dean
sm.sendSay("#face2#How is that even possible?")
sm.setInnerOverrideSpeakerTemplateID(3001311) # Sinaria
sm.sendSay("#face4#It was so strange!")
sm.flipNpcByTemplateId(3001314, True)
sm.sendDelay(30)
sm.setInnerOverrideSpeakerTemplateID(3001303) # Professor Andrada
sm.sendNext("#face0#Well, it isn't perfect, but that's a wonderful start! Well done!")
sm.sendDelay(1500)
sm.createQuestWithQRValue(34802, "class1=1;class2=1;out=2;exp=1")
sm.showFadeTransition(0, 1000, 3000)
sm.forcedFlip(True)
sm.createQuestWithQRValue(34858, "gate=1;cinna=1")
sm.createQuestWithQRValue(34859, "dean=1;carn=2")
sm.createQuestWithQRValue(34859, "dean=1;extra1=1;carn=2")
sm.createQuestWithQRValue(34859, "dean=1;extra1=1;extra2=1;carn=2")
sm.createQuestWithQRValue(34859, "dean=1;extra1=1;extra2=1;carn=3")
sm.sendDelay(300)
sm.removeOverlapScreen(1000)
sm.lockInGameUI(False, True)
