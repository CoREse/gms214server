# id 35902 (Find Altar Key 3), field 910090302
sm.lockInGameUI(True, False)
sm.removeAdditionalEffect()
sm.blind(True, 255, 0, 0, 0, 250)
sm.sendDelay(250)
sm.forcedFlip(True)
sm.sendDelay(1500)
sm.forcedFlip(False)
sm.blind(True, 255, 0, 0, 0, 0)
sm.sendDelay(1200)
sm.blind(False, 0, 0, 0, 0, 1000)
sm.sendDelay(1400)
sm.setSpeakerID(1013305) # Ancient Crate
sm.setParam(549)
sm.setColor(1)
sm.setInnerOverrideSpeakerTemplateID(1013358) # Pathfinder
res = sm.sendNext("#face0##gA temperamental dancer\r\nbest viewed with distant gaze.\r\nIn crimson does it pirouette,\r\nin black its footfall stays.#k\r\nPlace the offering before the pillar engraved with the correct answer to the riddle.\r\n#b#L0# Cloud #l\r\n#L1# Fire #l\r\n#L2# Moonlight#l")
if res != 1:
    sm.setSpeakerType(3)
    sm.sendNext("#face3#I...don't think anything happened? Usually there'd be some sort of fancy special effects right about now. I guess that must not have been the right answer.")
    sm.showFadeTransition(0, 1000, 3000)
    sm.zoomCamera(0, 1000, 2147483647, 2147483647, 2147483647)
    sm.moveCamera(True, 0, 0, 0)
    sm.sendDelay(300)
    sm.removeOverlapScreen(1000)
    sm.moveCamera(True, 0, 0, 0)
    sm.lockInGameUI(False, True)
else:
    sm.setSpeakerType(3)
    sm.sendNext("#face0##b(With a rumble and and an uncomfortable scraping sound, a concealed compartment on the bottom of the box slides open. Peering inside, you see something shining.)#k")
    sm.sendSay("#face3#And the crowd goes wiiiild.")
    sm.sendDelay(1500)
    sm.playSound("Sound/SoundEff.img/pathfinder/key", 100)
    sm.onLayer(500, "00", 0, 0, 1, "Effect/Direction22.img/effect/PF_key/0", 4, False, -1, False)
    sm.sendDelay(1000)
    sm.offLayer(550, "00", False)
    sm.onLayer(300, "01", 0, 0, 1, "Effect/Direction22.img/effect/PF_key/1", 4, False, -1, False)
    sm.sendDelay(1000)
    sm.onLayer(500, "02", 0, 0, 1, "Effect/Direction22.img/effect/PF_key/2", 4, False, -1, False)
    sm.offLayer(300, "01", False)
    sm.sendDelay(1000)
    sm.offLayer(550, "02", False)
    sm.sendNext("#face1#The last key to the altar. And that, of course, makes three. I guess it was a good thing I stopped to translate that riddle, huh?")
    sm.sendDelay(500)
    sm.sendNext("#face1#Now that I have all three of the keys, the next step is to plug these things into the altar.")
    sm.sendSay("#face3#Huh. The key's shining again. There must be something that way, where the light is pointing me, and I'd bet my weight in mesos that it's the altar")
    sm.forcedMove(False, 200)
    sm.sendDelay(1000)
    sm.blind(True, 255, 0, 0, 0, 500)
    sm.sendDelay(500)
    sm.sendDelay(4500)
    sm.createFieldTextEffect("#fnArial##fs18#Moments Later, Somewhere in the Partem Ruins", 100, 1000, 6, -50, -50, 1, 4, 0, 0, 0)
    sm.sendNext("#face1#Hah... Found you at last, relic. You put up a good challenge, but now you're aaaaaall mine.")
    sm.bgmVolume(0, 1500)
    sm.sendDelay(1500)
    sm.changeBGM("Bgm00.img/Silence", 0, 0)
    sm.bgmVolume(-2, 300)
    sm.sendDelay(300)
    sm.sendDelay(1000)
    sm.showFadeTransition(0, 1000, 3000)
    sm.zoomCamera(0, 1000, 2147483647, 2147483647, 2147483647)
    sm.moveCamera(True, 0, 0, 0)
    sm.sendDelay(300)
    sm.removeOverlapScreen(1000)
    sm.moveCamera(True, 0, 0, 0)
    sm.lockInGameUI(False, True)
    sm.warp(910090304)
